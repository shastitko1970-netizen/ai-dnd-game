# –ü–û–õ–ù–ê–Ø –ù–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø –£–°–¢–ê–ù–û–í–ö–ò

**–í—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. –ù–µ –±—É–¥–µ—Ç –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ!**

## –û—á–∏—Å—Ç–∏–ª —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç:

- ‚úÖ **–ù–µ–≤–µ—Ä–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã `@/lib/store`** - –¢–µ–ø–µ—Ä—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ store —Å Zustand
- ‚úÖ **–ù–µ—Ö–≤–∞—Ç–∞—é—â–∏–µ API –∫–ª–∏–µ–Ω—Ç—ã** - –î–æ–±–∞–≤–ª–µ–Ω **lib/api.ts** —Å Axios
- ‚úÖ **–ù–µ–¥–æ—Å—Ç–∞–æ—â–∏–µ TypeScript —Ç–∏–ø—ã** - –ù–æ–≤ **lib/types.ts** —Å –≤—Å–µ–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- ‚úÖ **–ù–µ–≤–µ—Ä–Ω—ã–µ tsconfig.json** - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞–ª–∏–∞—Å—ã —Ç—é–ø–æ–≤
- ‚úÖ **–ù–µ—Å—Ç —Ñ–∞–π–ª–æ–≤ app/** - –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω—ã–µ –∏ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –°—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)

### 1. –ù–∞—Ö–æ–¥—è—Å—å –≤ –Ω–æ–≤–æ–º –ø—Ä—Ä–µ–∫–æ–≤–æ–º –≤–∏–¥–µ

```bash
# –û—á–∏—Å—Ç–∏ –∑–∞–Ω–∞–≤–∞–Ω–Ω—ã–µ –ø–∞–ø–∫–∏
rm -rf node_modules package-lock.json
rm -rf frontend/node_modules frontend/package-lock.json
rm -rf backend/node_modules backend/package-lock.json
```

### 2. –û—Ç Root –∏—Å–ø–æ–ª—å–∑–µ –∂–µ

```bash
cd ai-dnd-game
npm install
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∏ –¥–µ–ø–µ–Ω–¥–µ–Ω—Å–∏–µ—Å

```bash
# –§—Ä–æ–Ω—Ç–µ–Ω–¥
cd frontend && npm install && cd ..

# –ë—ç–∫–µ–Ω–¥
cd backend && npm install && cd ..
```

### 4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–∫–æ–ø–∏—Ä—É–π `.env` —à–∞–±–ª–æ–Ω—ã:

```bash
# –§—Ä–æ–Ω—Ç–µ–Ω–¥
cp frontend/.env.local.example frontend/.env.local

# –ë—ç–∫–µ–Ω–¥
cp backend/.env.example backend/.env
```

–û—Ç–∫—Ä–æ–π `backend/.env` –∏ –∑–∞—Å—Ç–∞–≤—å:
```
OPENAI_API_KEY=sk-—Ç–≤–æ–π-–∞–∫—Ç—É–∞–ª—å–Ω—ã–π-–∫–ª—é—á
```

### 5. –û—Ç–ø—Ä–∞–≤–∫–∞

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ë—ç–∫–µ–Ω–¥
cd backend && npm run dev

# –ú–æ–∂–µ—à –≤–∏–¥–µ—Ç—å:
# ‚úÖ –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ http://localhost:3001
# üìö API: http://localhost:3001/api
# üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è: http://localhost:3001/health
```

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –§—Ä–æ–Ω—Ç–µ–Ω–¥
cd frontend && npm run dev

# –ú–æ–∂–µ—à –≤–∏–¥–µ—Ç—å:
# ‚ñ∂ Local: http://localhost:3000
```

### 6. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ

**http://localhost:3000**

---

## ‚úÖ –û—á–∏—Å—Ç–∏–ª–∏—Å—å –¥—Ä–∏–≤–µ—Ä—ã –û—Å—ã–±–∏

### –û—Ñ—Ä–∞–Ω–æ—Ç–µ–Ω–¥ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
frontend/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx          # –†—É—Ç –ª–∞–π–∞—É—Ç
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx            # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ globals.css        # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ world-select/      # –í—ã–±–æ—Ä –º–∏—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ character-create/  # –ù–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞
‚îÇ   ‚îú‚îÄ‚îÄ game/              # –ò–≥—Ä–æ–≤–∞—è —Å–µ—Å—Å–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ custom-content/    # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ types.ts           # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ api.ts            # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ store.ts          # Zustand —Å—Ç–æ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ utils.ts          # –ü–æ–º–æ—â–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ validation.ts     # –í–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ jsconfig.json
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ .env.local.example
‚îî‚îÄ‚îÄ .gitignore
```

### –ß—Ç–æ –ü–æ–º–µ–Ω—è–ª–æ—Å—å

**`lib/store.ts`** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ Zustand —Å—Ç–æ—Ä —Å –≤—Å–µ–º–∏ –∞–∫—Ü–∏—è–º–∏

```typescript
// –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —Ç–µ–ø–µ—Ä—å:
import { useGameStore } from '@/lib/store';
const { character, setCharacter } = useGameStore();
```

**`lib/api.ts`** - –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ API –∫–ª–∏–µ–Ω—Ç –Ω–∞ Axios

```typescript
import apiClient from '@/lib/api';

// –í—Å–µ endpoint'—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã
await apiClient.character.create(data);
await apiClient.game.startSession(data);
await apiClient.customRaces.list();
```

**`lib/types.ts`** - –í—Å–µ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

```typescript
import type { Character, World, GameSession } from '@/lib/types';
```

**`lib/utils.ts`** - –ü–æ–º–æ—â–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
import { rollDice, getAbilityModifier } from '@/lib/utils';
const roll = rollDice(20); // 1-20
const mod = getAbilityModifier(16); // +3
```

---

## üì¶ –ù–µ –∑–∞–±—ã–≤–∞–π

- –û–ø–µ–Ω–∞ **2 —Ç–µ—Ä–º–∏–Ω–∞–ª–∞** - –±—ç–∫–µ–Ω–¥ + —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
- –ù–∞—Å—Ç—Ä–æ–π **OpenAI API –∫–ª—é—á** –≤ `backend/.env`
- –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç—ã: **3000** (—Ñ—Ä–æ–Ω—Ç–µ–Ω–¥) –∏ **3001** (–±—ç–∫–µ–Ω–¥)

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:3001/health

# –ù–∞ –º–µ—Ä–∂–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
curl http://localhost:3001/api/rules/merged | jq
```

---

## ‚ùì –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### Build –û—à–∏–±–∫–∞: "Module not found"

```bash
# –û—á–∏—Å—Ç–∏
rm -rf .next node_modules
npm install
npm run build
```

### –¢–∏–ø–∏—Å –û—à–∏–±–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—å TypeScript
npm run type-check
```

### CORS –û—à–∏–±–∫–∞

- –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –±—ç–∫–µ–Ω–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `:3001`
- –û—Ç–∫—Ä–æ–π `frontend/.env.local` –∏ —Ç–æ–º—É—Ç API URL

### –ü–æ—Ä—Ç—ã –ó–∞–Ω—è—Ç—ã

```bash
# –ù–∞–π—Ç–∏ –∏ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :3000
lsof -i :3001
kill -9 <PID>
```

---

## üöÄ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–µ–Ω** –∏ **–Ω–µ –±—Ä–æ—Å–∏—Ç –æ—à–∏–±–æ–∫**! 

**–ù–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∏–≥—Ä–æ–π!** üêâ‚öîÔ∏è
